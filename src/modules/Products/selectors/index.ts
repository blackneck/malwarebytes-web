import { createSelector } from "reselect";

import { ProductsState } from "../types";

const getProductsScheme = ({ products }: { products: ProductsState }) =>
  products.products;
const getCurrentProductId = ({ products }: { products: ProductsState }) =>
  products.currentProductId;

export const getCurrentProduct = createSelector(
  getCurrentProductId,
  getProductsScheme,
  (currentProductId, productsScheme) =>
    currentProductId ? productsScheme[currentProductId] : undefined
);
export const getProducts = createSelector(getProductsScheme, (productsScheme) =>
  Object.values(productsScheme)
);
export const getPage = ({ products }: { products: ProductsState }) =>
  products.page;
