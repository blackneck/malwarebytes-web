import React, { useCallback } from "react";
import { useDispatch } from "react-redux";
import { setCurrentProduct } from "../actions";

import ProductItem from "../components/ProductItem";
import { Product } from "../types";

const ProductItemContainer = ({
  product,
  index,
}: {
  product: Product;
  index: number;
}) => {
  const dispatch = useDispatch();

  const handleProductPress = useCallback(() => {
    dispatch(setCurrentProduct(product));
  }, [dispatch, product]);

  return (
    <ProductItem
      product={product}
      index={index}
      handleProductPress={handleProductPress}
    />
  );
};

export default ProductItemContainer;
