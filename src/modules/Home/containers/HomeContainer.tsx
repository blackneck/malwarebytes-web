import React, { useEffect } from "react";
import { useDispatch, useSelector } from "react-redux";

import Home from "../components/Home";
import { getProductsRequest } from "../actions";
import { getProducts, getPage } from "../selectors";

const HomeContainer = () => {
  const products = useSelector(getProducts);
  const page = useSelector(getPage);

  const dispatch = useDispatch();

  useEffect(() => {
    dispatch(getProductsRequest({ page }));
  }, [dispatch, page]);

  return <Home products={products} />;
};

export default HomeContainer;
